# SQLD 기출변형 모의고사 정리 4-2

SQLD 자격증 대비용 기출변형 모의고사 개념 요약입니다.

<br>

## 분석 함수 (윈도우 함수)

| 함수명 | 의미 | 특징 |
|--------|------|------|
| `NTILE(n)` | 데이터를 **n등분**하여 각 행에 **그룹 번호를 부여** | 동일 개수로 균등 분할 (마지막 그룹은 더 작을 수 있음) |
| `LEAD(column, offset, default)` | 현재 행 기준 **뒤쪽 offset번째 값** 반환 | 지정한 행이 없으면 기본값(`default`) 반환 |
| `LAG(column, offset, default)` | 현재 행 기준 **앞쪽 offset번째 값** 반환 | 지정한 행이 없으면 기본값(`default`) 반환 |
| `RATIO_TO_REPORT(column)` | 전체 합계 대비 해당 행의 **비율(0~1)** 반환 | 비율 분석에 유용 (ex. 특정 매출이 전체에서 차지하는 비중) |

> 예시  
> `LEAD(salary, 2, 0) OVER (ORDER BY emp_id)`  
> → 현재 행 기준으로 **2행 뒤의 salary**를 가져오고, 값이 없으면 **0 반환**.

<br>

## 서브쿼리 위치에 따른 분류

| 위치 | 이름 | 설명 |
|------|------|------|
| `SELECT` 절 | **스칼라 서브쿼리** | 하나의 값 반환 (`SELECT` 내 서브쿼리) |
| `FROM` 절 | **인라인 뷰** | 서브쿼리를 테이블처럼 사용 |
| `WHERE`, `HAVING` 절 | **중첩 서브쿼리** | 조건절에서 필터링용으로 사용 |

<br>

## 기타 개념

- `IS NOT NULL`: `NULL` 여부를 판별할 때만 사용 가능  
  ❗ 일반 숫자나 문자 비교에는 사용 불가
